<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>蒸汽洪流</title>
    <link rel="stylesheet" href="./index.css">
</head>
<body>
	<script type="importmap">
		{
		  "imports": {
			"lodash/fp/difference": "https://unpkg.com/lodash-es@4.17.21/difference.js"
		  }
		}
	</script>
	<div class="container">
	  <div class="menu">
		<ul>
		  <li><a href="./index.html">Format</a></li>
		  <li><a href="./difference.html">Difference</a></li>
          <li><a href="./escape.html">Escape</a></li>
		  <li><a href="#">菜单项4</a></li>
		</ul>
	  </div>
	  <div class="textbox-container">
		<textarea id="inputAText"></textarea>
		<span>
			-
			<button onclick="x()"> <-> </button>
		</span>
		<textarea id="inputBText"></textarea>
		<span> = </span>
		<textarea readonly placeholder="[]" id="outputText"></textarea>
	  </div>
	</div>

    <script type="module">
		import difference from 'lodash/fp/difference';

		const a = document.getElementById('inputAText');
		const b = document.getElementById('inputBText');
		const outPutText = document.getElementById('outputText');

		function diffAndUpdate() {
			const as = a.value.split(',');
			const bs = b.value.split(',');

			const cs = [...new Set(difference(as, bs))];
			outPutText.value = cs.join(',\n');
		}

		a.addEventListener('input', diffAndUpdate);
		b.addEventListener('input', diffAndUpdate);

		function x() {
			const c = a.value;
			a.value = b.value;
			b.value = c;
			diffAndUpdate();
		}

		window.x = x;
	</script>
</body>